<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 10: Final Magic Project - Codopia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        @keyframes celebration {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-5deg); }
        }
        .sparkle { animation: sparkle 2s linear infinite; }
        .float { animation: float 3s ease-in-out infinite; }
        .celebration { animation: celebration 0.6s ease-in-out; }
        
        .project-template {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .project-template:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .project-template.selected {
            border: 3px solid #8b5cf6;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
        }
        
        .skill-badge {
            display: inline-block;
            padding: 4px 12px;
            margin: 2px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .skill-movement { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; }
        .skill-variables { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white; }
        .skill-debugging { background: linear-gradient(135deg, #ef4444, #dc2626); color: white; }
        .skill-interactive { background: linear-gradient(135deg, #10b981, #059669); color: white; }
        .skill-art { background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; }
        .skill-functions { background: linear-gradient(135deg, #f97316, #ea580c); color: white; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-100 via-pink-50 to-blue-100">
    <!-- Celebration Sparkles -->
    <div class="fixed inset-0 pointer-events-none z-10">
        <div class="sparkle absolute top-20 left-10 w-4 h-4 bg-purple-400 rounded-full"></div>
        <div class="sparkle absolute top-40 right-20 w-3 h-3 bg-pink-400 rounded-full" style="animation-delay: 0.5s;"></div>
        <div class="sparkle absolute bottom-40 left-20 w-2 h-2 bg-blue-400 rounded-full" style="animation-delay: 1s;"></div>
        <div class="sparkle absolute bottom-20 right-10 w-3 h-3 bg-yellow-400 rounded-full" style="animation-delay: 1.5s;"></div>
        <div class="sparkle absolute top-1/2 left-1/2 w-5 h-5 bg-green-400 rounded-full" style="animation-delay: 2s;"></div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white/90 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <a href="/learning/magic_workshop" class="flex items-center space-x-2 text-gray-600 hover:text-purple-600">
                        <span>‚Üê</span>
                        <span>Back to Magic Workshop</span>
                    </a>
                    <div class="h-6 w-px bg-gray-300"></div>
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
                            <span class="text-white text-lg">üèÜ</span>
                        </div>
                        <span class="text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">Final Magic Project</span>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 bg-purple-100 px-3 py-1 rounded-full">
                        <span class="text-purple-600 font-semibold">Master Wizard</span>
                        <span class="text-purple-500">‚Ä¢</span>
                        <span class="text-purple-600">Module 10</span>
                    </div>
                    <button id="sparkle-btn" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-full hover:from-purple-600 hover:to-pink-600 transition-all">
                        ‚ú® Ask Professor Sparkle
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Welcome Section -->
        <div class="text-center mb-12">
            <div class="inline-block p-6 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-6">
                <span class="text-6xl">üéì</span>
            </div>
            <h1 class="text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4">
                Congratulations, Master Wizard!
            </h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                You've learned all the magical programming spells! Now it's time to create your very own magical masterpiece using everything you've learned.
            </p>
        </div>

        <!-- Skills Mastered -->
        <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-8">
            <h2 class="text-2xl font-bold text-purple-700 mb-6 text-center">üåü Your Magical Skills</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl">
                    <div class="text-4xl mb-2">üßô‚Äç‚ôÇÔ∏è</div>
                    <h3 class="font-bold text-blue-700">Movement Magic</h3>
                    <p class="text-sm text-blue-600">Making wizards move and dance</p>
                    <div class="skill-badge skill-movement mt-2">Mastered</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl">
                    <div class="text-4xl mb-2">üß™</div>
                    <h3 class="font-bold text-yellow-700">Variable Potions</h3>
                    <p class="text-sm text-yellow-600">Storing magical ingredients</p>
                    <div class="skill-badge skill-variables mt-2">Mastered</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-xl">
                    <div class="text-4xl mb-2">üîç</div>
                    <h3 class="font-bold text-red-700">Spell Debugging</h3>
                    <p class="text-sm text-red-600">Fixing broken magic</p>
                    <div class="skill-badge skill-debugging mt-2">Mastered</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl">
                    <div class="text-4xl mb-2">üí¨</div>
                    <h3 class="font-bold text-green-700">Interactive Magic</h3>
                    <p class="text-sm text-green-600">Talking with magical creatures</p>
                    <div class="skill-badge skill-interactive mt-2">Mastered</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl">
                    <div class="text-4xl mb-2">üé®</div>
                    <h3 class="font-bold text-purple-700">Art Magic</h3>
                    <p class="text-sm text-purple-600">Drawing with magical spells</p>
                    <div class="skill-badge skill-art mt-2">Mastered</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl">
                    <div class="text-4xl mb-2">‚ö°</div>
                    <h3 class="font-bold text-orange-700">Function Spells</h3>
                    <p class="text-sm text-orange-600">Creating your own magic</p>
                    <div class="skill-badge skill-functions mt-2">Mastered</div>
                </div>
            </div>
        </div>

        <!-- Project Templates -->
        <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-8">
            <h2 class="text-2xl font-bold text-purple-700 mb-6">üéØ Choose Your Final Project</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="project-template bg-white rounded-xl p-6 border-2 border-gray-200" data-project="magical-story">
                    <div class="text-center mb-4">
                        <div class="text-5xl mb-2">üìö</div>
                        <h3 class="text-xl font-bold text-purple-700">Magical Story Adventure</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Create an interactive story where readers make choices and see different magical outcomes!</p>
                    <div class="space-y-2">
                        <div class="skill-badge skill-interactive">Interactive Magic</div>
                        <div class="skill-badge skill-variables">Variables</div>
                        <div class="skill-badge skill-movement">Movement</div>
                    </div>
                </div>

                <div class="project-template bg-white rounded-xl p-6 border-2 border-gray-200" data-project="magical-art">
                    <div class="text-center mb-4">
                        <div class="text-5xl mb-2">üé®</div>
                        <h3 class="text-xl font-bold text-purple-700">Magical Art Gallery</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Design beautiful magical scenes with moving characters and colorful spells!</p>
                    <div class="space-y-2">
                        <div class="skill-badge skill-art">Art Magic</div>
                        <div class="skill-badge skill-movement">Movement</div>
                        <div class="skill-badge skill-functions">Functions</div>
                    </div>
                </div>

                <div class="project-template bg-white rounded-xl p-6 border-2 border-gray-200" data-project="magical-game">
                    <div class="text-center mb-4">
                        <div class="text-5xl mb-2">üéÆ</div>
                        <h3 class="text-xl font-bold text-purple-700">Magical Mini-Game</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Build a fun game where players collect magical items and solve puzzles!</p>
                    <div class="space-y-2">
                        <div class="skill-badge skill-variables">Variables</div>
                        <div class="skill-badge skill-interactive">Interactive</div>
                        <div class="skill-badge skill-debugging">Logic</div>
                    </div>
                </div>

                <div class="project-template bg-white rounded-xl p-6 border-2 border-gray-200" data-project="magical-calculator">
                    <div class="text-center mb-4">
                        <div class="text-5xl mb-2">üßÆ</div>
                        <h3 class="text-xl font-bold text-purple-700">Magical Calculator</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Create a magical calculator that helps with potion recipes and spell counting!</p>
                    <div class="space-y-2">
                        <div class="skill-badge skill-variables">Variables</div>
                        <div class="skill-badge skill-functions">Functions</div>
                        <div class="skill-badge skill-interactive">Interactive</div>
                    </div>
                </div>

                <div class="project-template bg-white rounded-xl p-6 border-2 border-gray-200" data-project="magical-animation">
                    <div class="text-center mb-4">
                        <div class="text-5xl mb-2">üé≠</div>
                        <h3 class="text-xl font-bold text-purple-700">Magical Animation</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Animate magical creatures and create your own magical movie scene!</p>
                    <div class="space-y-2">
                        <div class="skill-badge skill-movement">Movement</div>
                        <div class="skill-badge skill-art">Art Magic</div>
                        <div class="skill-badge skill-functions">Functions</div>
                    </div>
                </div>

                <div class="project-template bg-white rounded-xl p-6 border-2 border-gray-200" data-project="custom-project">
                    <div class="text-center mb-4">
                        <div class="text-5xl mb-2">üí°</div>
                        <h3 class="text-xl font-bold text-purple-700">Your Own Idea</h3>
                    </div>
                    <p class="text-gray-600 mb-4">Have your own magical idea? Create something completely unique!</p>
                    <div class="space-y-2">
                        <div class="skill-badge skill-art">All Skills</div>
                        <div class="skill-badge skill-variables">Creative</div>
                        <div class="skill-badge skill-functions">Freedom</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Project Builder -->
        <div id="project-builder" class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 hidden">
            <h2 class="text-2xl font-bold text-purple-700 mb-6">üèóÔ∏è Build Your Project</h2>
            
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Project Canvas -->
                <div>
                    <h3 class="text-xl font-bold text-purple-600 mb-4">Your Magical Creation</h3>
                    <div id="project-canvas" class="bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 rounded-xl h-96 relative overflow-hidden">
                        <div class="absolute inset-0 flex items-center justify-center text-white text-center">
                            <div>
                                <div class="text-6xl mb-4">‚ú®</div>
                                <p class="text-xl">Your magical project will appear here!</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Project Controls -->
                <div>
                    <h3 class="text-xl font-bold text-purple-600 mb-4">Project Tools</h3>
                    <div class="space-y-4">
                        <div class="bg-purple-50 p-4 rounded-xl">
                            <h4 class="font-bold text-purple-700 mb-2">Project Name</h4>
                            <input type="text" id="project-name" placeholder="My Amazing Magical Project" class="w-full p-3 border border-purple-200 rounded-lg">
                        </div>
                        
                        <div class="bg-purple-50 p-4 rounded-xl">
                            <h4 class="font-bold text-purple-700 mb-2">Project Description</h4>
                            <textarea id="project-description" placeholder="Tell everyone about your magical creation..." class="w-full p-3 border border-purple-200 rounded-lg h-24"></textarea>
                        </div>
                        
                        <div class="flex space-x-3">
                            <button id="save-project" class="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-6 rounded-lg hover:from-green-600 hover:to-green-700 transition-all">
                                üíæ Save Project
                            </button>
                            <button id="share-project" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all">
                                üåü Share Project
                            </button>
                        </div>
                        
                        <button id="start-over" class="w-full bg-gradient-to-r from-gray-500 to-gray-600 text-white py-3 px-6 rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all">
                            üîÑ Start Over
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Project Gallery -->
        <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8">
            <h2 class="text-2xl font-bold text-purple-700 mb-6">üèÜ Master Wizard Gallery</h2>
            <p class="text-gray-600 mb-6">See amazing projects created by other young wizards!</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">üêâ</div>
                        <h3 class="font-bold text-purple-700">Dragon Adventure</h3>
                        <p class="text-sm text-purple-600">by Wizard Emma, age 6</p>
                    </div>
                    <p class="text-gray-600 text-sm mb-4">An interactive story where you help a friendly dragon find its way home!</p>
                    <button class="w-full bg-purple-100 text-purple-700 py-2 rounded-lg hover:bg-purple-200 transition-all">
                        ‚ñ∂Ô∏è Play Project
                    </button>
                </div>

                <div class="bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 border border-blue-200">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">üåà</div>
                        <h3 class="font-bold text-blue-700">Rainbow Painter</h3>
                        <p class="text-sm text-blue-600">by Wizard Alex, age 7</p>
                    </div>
                    <p class="text-gray-600 text-sm mb-4">A magical art tool that creates beautiful rainbow patterns!</p>
                    <button class="w-full bg-blue-100 text-blue-700 py-2 rounded-lg hover:bg-blue-200 transition-all">
                        ‚ñ∂Ô∏è Play Project
                    </button>
                </div>

                <div class="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-6 border border-yellow-200">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">üéµ</div>
                        <h3 class="font-bold text-yellow-700">Magic Music Box</h3>
                        <p class="text-sm text-yellow-600">by Wizard Sam, age 5</p>
                    </div>
                    <p class="text-gray-600 text-sm mb-4">Click different magical creatures to hear their special songs!</p>
                    <button class="w-full bg-yellow-100 text-yellow-700 py-2 rounded-lg hover:bg-yellow-200 transition-all">
                        ‚ñ∂Ô∏è Play Project
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Professor Sparkle Chat -->
    <div id="sparkle-chat" class="fixed bottom-6 right-6 w-80 bg-white rounded-2xl shadow-2xl border-2 border-purple-200 hidden">
        <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white p-4 rounded-t-2xl">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <span class="text-2xl">‚ú®</span>
                    <span class="font-bold">Professor Sparkle</span>
                </div>
                <button id="close-chat" class="text-white hover:text-gray-200">‚úï</button>
            </div>
        </div>
        <div id="chat-messages" class="p-4 h-64 overflow-y-auto">
            <div class="bg-purple-50 p-3 rounded-lg mb-3">
                <p class="text-purple-700">üéâ Congratulations on becoming a Master Wizard! I'm so proud of how much you've learned. What kind of magical project would you like to create?</p>
            </div>
        </div>
        <div class="p-4 border-t">
            <div class="flex space-x-2">
                <input type="text" id="chat-input" placeholder="Ask Professor Sparkle..." class="flex-1 p-2 border border-purple-200 rounded-lg">
                <button id="send-chat" class="bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600">Send</button>
            </div>
        </div>
    </div>

    <script>
        // Project selection
        document.querySelectorAll('.project-template').forEach(template => {
            template.addEventListener('click', function() {
                // Remove selection from all templates
                document.querySelectorAll('.project-template').forEach(t => t.classList.remove('selected'));
                
                // Select this template
                this.classList.add('selected');
                
                // Show project builder
                document.getElementById('project-builder').classList.remove('hidden');
                
                // Scroll to project builder
                document.getElementById('project-builder').scrollIntoView({ behavior: 'smooth' });
                
                // Initialize project based on selection
                const projectType = this.dataset.project;
                initializeProject(projectType);
            });
        });

        function initializeProject(projectType) {
            const canvas = document.getElementById('project-canvas');
            const projectName = document.getElementById('project-name');
            
            switch(projectType) {
                case 'magical-story':
                    projectName.value = 'My Magical Story Adventure';
                    canvas.innerHTML = `
                        <div class="absolute inset-0 flex items-center justify-center text-white text-center">
                            <div>
                                <div class="text-6xl mb-4">üìö</div>
                                <p class="text-xl">Once upon a time in a magical land...</p>
                                <button class="mt-4 bg-white text-purple-700 px-6 py-2 rounded-lg">Start Story</button>
                            </div>
                        </div>
                    `;
                    break;
                case 'magical-art':
                    projectName.value = 'My Magical Art Gallery';
                    canvas.innerHTML = `
                        <div class="absolute inset-0 p-4">
                            <div class="grid grid-cols-3 gap-2 h-full">
                                <div class="bg-red-400 rounded-lg flex items-center justify-center text-white text-2xl">üåπ</div>
                                <div class="bg-blue-400 rounded-lg flex items-center justify-center text-white text-2xl">üåä</div>
                                <div class="bg-green-400 rounded-lg flex items-center justify-center text-white text-2xl">üå≥</div>
                                <div class="bg-yellow-400 rounded-lg flex items-center justify-center text-white text-2xl">‚òÄÔ∏è</div>
                                <div class="bg-purple-400 rounded-lg flex items-center justify-center text-white text-2xl">üîÆ</div>
                                <div class="bg-pink-400 rounded-lg flex items-center justify-center text-white text-2xl">ü¶Ñ</div>
                            </div>
                        </div>
                    `;
                    break;
                case 'magical-game':
                    projectName.value = 'My Magical Mini-Game';
                    canvas.innerHTML = `
                        <div class="absolute inset-0 flex items-center justify-center text-white text-center">
                            <div>
                                <div class="text-6xl mb-4">üéÆ</div>
                                <p class="text-xl">Collect the magical gems!</p>
                                <div class="flex justify-center space-x-4 mt-4">
                                    <span class="text-3xl">üíé</span>
                                    <span class="text-3xl">üíé</span>
                                    <span class="text-3xl">üíé</span>
                                </div>
                                <p class="mt-2">Score: 0</p>
                            </div>
                        </div>
                    `;
                    break;
                default:
                    projectName.value = 'My Amazing Magical Project';
                    canvas.innerHTML = `
                        <div class="absolute inset-0 flex items-center justify-center text-white text-center">
                            <div>
                                <div class="text-6xl mb-4">‚ú®</div>
                                <p class="text-xl">Your magical creation will appear here!</p>
                            </div>
                        </div>
                    `;
            }
        }

        // Project actions
        document.getElementById('save-project').addEventListener('click', function() {
            const projectName = document.getElementById('project-name').value;
            const projectDescription = document.getElementById('project-description').value;
            
            // Simulate saving
            this.innerHTML = '‚úÖ Saved!';
            this.classList.add('celebration');
            
            setTimeout(() => {
                this.innerHTML = 'üíæ Save Project';
                this.classList.remove('celebration');
            }, 2000);
            
            // Show success message
            showSparkleMessage(`üéâ Great job! Your project "${projectName}" has been saved to your magical portfolio!`);
        });

        document.getElementById('share-project').addEventListener('click', function() {
            const projectName = document.getElementById('project-name').value;
            
            // Simulate sharing
            this.innerHTML = 'üåü Shared!';
            this.classList.add('celebration');
            
            setTimeout(() => {
                this.innerHTML = 'üåü Share Project';
                this.classList.remove('celebration');
            }, 2000);
            
            showSparkleMessage(`‚ú® Amazing! Your project "${projectName}" is now in the Master Wizard Gallery for everyone to see!`);
        });

        document.getElementById('start-over').addEventListener('click', function() {
            // Reset project builder
            document.querySelectorAll('.project-template').forEach(t => t.classList.remove('selected'));
            document.getElementById('project-builder').classList.add('hidden');
            document.getElementById('project-name').value = '';
            document.getElementById('project-description').value = '';
            
            // Scroll back to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Professor Sparkle chat
        document.getElementById('sparkle-btn').addEventListener('click', function() {
            document.getElementById('sparkle-chat').classList.toggle('hidden');
        });

        document.getElementById('close-chat').addEventListener('click', function() {
            document.getElementById('sparkle-chat').classList.add('hidden');
        });

        document.getElementById('send-chat').addEventListener('click', sendChatMessage);
        document.getElementById('chat-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendChatMessage();
            }
        });

        function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message) {
                // Add user message
                addChatMessage(message, 'user');
                
                // Clear input
                input.value = '';
                
                // Simulate Professor Sparkle response
                setTimeout(() => {
                    const responses = [
                        "üåü That's a wonderful idea! Remember to use all the magical skills you've learned.",
                        "‚ú® I love your creativity! Don't forget to test your project to make sure all the spells work correctly.",
                        "üéâ You're doing amazing work! Take your time and enjoy creating your magical masterpiece.",
                        "üîÆ Great question! Try combining different types of magic blocks to create something truly special.",
                        "üßô‚Äç‚ôÇÔ∏è I'm so proud of how much you've learned! Your project will be absolutely magical."
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addChatMessage(randomResponse, 'sparkle');
                }, 1000);
            }
        }

        function addChatMessage(message, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            
            if (sender === 'user') {
                messageDiv.className = 'bg-blue-50 p-3 rounded-lg mb-3 ml-8';
                messageDiv.innerHTML = `<p class="text-blue-700">${message}</p>`;
            } else {
                messageDiv.className = 'bg-purple-50 p-3 rounded-lg mb-3 mr-8';
                messageDiv.innerHTML = `<p class="text-purple-700">${message}</p>`;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showSparkleMessage(message) {
            // Show Professor Sparkle chat if hidden
            document.getElementById('sparkle-chat').classList.remove('hidden');
            
            // Add message
            addChatMessage(message, 'sparkle');
        }

        // Initialize with welcome message
        window.addEventListener('load', function() {
            setTimeout(() => {
                showSparkleMessage("üéì Welcome to your Final Magic Project! You've mastered all the magical programming skills. Now it's time to create something amazing! What would you like to build?");
            }, 2000);
        });
    </script>
</body>
</html>

